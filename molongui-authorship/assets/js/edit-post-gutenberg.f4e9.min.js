wp.domReady(function(){new class{constructor(){this.observeGutenbergEditor(),this.waitForAuthorPanel()}createNoticeElement(){var t=document.createElement("div");return t.className="molongui-post-authors-warning",t.textContent=molongui_authorship_block_editor_data.selector_notice,t}insertNoticeAfterAuthorSelector(){var t,o=document.querySelector(".post-author-selector");o&&!o.querySelector(".molongui-post-authors-warning")&&(t=this.createNoticeElement(),o.appendChild(t))}observeDomChanges(){var t,o=document.querySelector(".edit-post-sidebar");o&&(t={childList:!0,subtree:!0},new MutationObserver((t,o)=>{for(var e of t)"childList"!==e.type&&"subtree"!==e.type||this.insertNoticeAfterAuthorSelector()}).observe(o,t))}waitForAuthorPanel(){const t=setInterval(()=>{document.querySelector(".post-author-selector")&&(clearInterval(t),this.insertNoticeAfterAuthorSelector(),this.observeDomChanges())},100)}observeGutenbergEditor(){var t,o=document.querySelector("#editor");o&&(t={childList:!0,subtree:!0},new MutationObserver((t,o)=>{for(var e of t)"childList"!==e.type&&"subtree"!==e.type||this.waitForAuthorPanel()}).observe(o,t))}}}),function(t){const{subscribe:o,select:e,dispatch:u}=t.data,l=e("core/editor")["isSavingPost"];var{}=t.url;let c=!0;o(()=>{var t,o,e,r,s,a,i,n;l()?c=!1:c||(c=!0,t="ma_cannot_post_as_others",(o=wpCookies.get(t))?(u("core/notices").createNotice("error",o,{id:"cannot_post_as_others_notice",isDismissible:!0}),o=molongui_authorship_block_editor_data.author.id,e=molongui_authorship_block_editor_data.author.type,r=molongui_authorship_block_editor_data.author.ref,s=molongui_authorship_block_editor_data.author.avatar,a=molongui_authorship_block_editor_data.author.label,(n=(i=document.getElementById("molongui-post-authors").querySelector(".molongui-post-authors__list")).querySelector("#user-"+o))&&i.removeChild(n),(n=document.createElement("div")).setAttribute("id",r),n.setAttribute("data-author-id",o),n.setAttribute("data-author-type",e),n.setAttribute("data-author-ref",r),n.classList.add("molongui-post-authors__item","molongui-post-authors__item--user"),n.innerHTML='<div class="molongui-post-authors__row ui-sortable-handle"><div class="molongui-post-authors__avatar"><img src="'+s+'"></div><div class="molongui-post-authors__name" title="'+molongui_authorship_edit_post_params.tag_title+'">'+a+'</div><div class="molongui-post-authors__actions"><span class="dashicons dashicons-arrow-up-alt2 molongui-post-authors__up" title="'+molongui_authorship_edit_post_params.up_label+'"></span><span class="dashicons dashicons-arrow-down-alt2 molongui-post-authors__down" title="'+molongui_authorship_edit_post_params.down_label+'"></span><span class="dashicons dashicons-no-alt molongui-post-authors__delete" title="'+molongui_authorship_edit_post_params.delete_label+'"></span></div><input type="hidden" name="molongui_post_authors[]" value="'+r+'"></div>',i.insertBefore(n,i.firstChild),wpCookies.remove(t,"/")):u("core/notices").removeNotice("cannot_post_as_others_notice"))})}(window.wp);