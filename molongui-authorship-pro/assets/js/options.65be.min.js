jQuery(document).ready(function(e){molongui_authorship_options_params.is_premium;let o=e("#author_box"),t=e("#box_post_types_auto"),i=e('input[name*="enable_author_box_styles"]'),a=e("#show_headline"),s=e("#show_meta"),n=e("#show_icons"),l=e("#show_avatar"),r=e("#avatar_src"),m=e("#avatar_local_fallback"),_=e("#avatar_default_gravatar"),u=e("#show_related"),c=e("#show_empty_related"),h=e("#guest_authors");e("#guests-post-types-notice");let p=e("#guest_pages"),g=e("#enable_multi_authors"),d=e("#user_archive_enabled"),v=e("#post_types"),f=e("#byline_multiauthor_display"),y=e("#byline_name_link"),x=e("#guests_menu");function w(t,i,a){void 0===i&&(i=200),void 0===a&&(a=".m-card"),e.each(t,function(o){$e=(t instanceof jQuery?t:e(t[o])).closest(a),$e.is("[data-m-hide]")&&"0"!==$e.attr("data-m-hide")||$e.show(i),$e.attr("data-m-deps","1")})}function b(t,i,a){void 0===i&&(i=200),void 0===a&&(a=".m-card"),e.each(t,function(o){e(t[o]).closest(a).attr("data-m-deps","0").hide(i)})}function k(o,t){void 0===t&&(t=".m-card"),o.closest(t).nextAll().removeClass("disabled")}function j(o,t){void 0===t&&(t=".m-card"),o.closest(t).nextAll().addClass("disabled")}function O(o,t,i){o.preventDefault(),e("#molongui-options").attr("style","opacity: 0"),e(".m-tab").removeClass("current"),e(".m-section-nav-tab").removeClass("is-selected"),e("#"+t).addClass("current"),e('.m-section-nav-tab__link[data-id="'+t+'"]').parent().addClass("is-selected"),e("html, body").animate({scrollTop:0},0),e("#molongui-options").attr("style","opacity: 1");let a=e("#"+i).closest(".m-card");a.addClass("focus"),setTimeout(function(){a.removeClass("focus")},2e3)}e("#add_html_meta");o.on("myload change",function(o){(e(this).is(":checked")?k:j)(e(this))}),o.trigger("myload"),t.on("myload change",function(){var o=["#hide_on_categories_ad","#hide_on_categories"];(e(this).val().includes("post")?w:b)(o)}),t.trigger("myload"),i.on("change",function(o){e(this).is(":checked")?e("#open_customizer").show(200):molongui_swal({icon:"info",title:molongui_authorship_options_params[100],text:molongui_authorship_options_params[101],closeOnEsc:!0,buttons:!0,dangerMode:!0}).then(o=>{o?(molongui_swal({icon:"success",title:molongui_authorship_options_params[102],text:molongui_authorship_options_params[103],closeOnEsc:!0,buttons:!0,dangerMode:!0}),e("#open_customizer").hide()):e(this).prop("checked",!0)})}),a.on("myload change",function(){var o=["#headline","#headline_tag","#box_headline_tag"];(e(this).is(":checked")?w:b)(o)}),a.trigger("myload"),s.on("myload change",function(){var o=["#at","#web","#more_posts","#bio"];(e(this).is(":checked")?w:b)(o)}),s.trigger("myload"),l.on("myload change",function(o){var t=["#avatar_link_to_archive","#avatar_src","#avatar_local_fallback","#avatar_default_gravatar","#avatar_width","#avatar_height"];e(this).is(":checked")?(w(t),"local"!==r.val()&&m.closest(".m-card").attr("data-m-deps","0").hide(),"gravatar"!==r.val()&&"gravatar"!==m.val()&&_.closest(".m-card").attr("data-m-deps","0").hide()):b(t)}),l.trigger("myload"),r.on("myload change",function(o){"local"===e(this).val()?w([m]):b([m],0),"gravatar"!==e(this).val()&&"gravatar"!==m.val()?b([_],0):w([_]),"acronym"===e(this).val()&&b([_],0)}),r.trigger("myload"),m.on("myload change",function(o){"gravatar"!==m.val()&&"gravatar"!==e(this).val()?b([_],0):w([_])}),m.trigger("myload"),n.on("myload change",function(){var o=["#social_link_target"];(e(this).is(":checked")?w:b)(o)}),n.trigger("myload"),u.on("myload change",function(o){var t=["#related_posts","#related_items","#related_orderby","#related_order","#related_post_types","#show_empty_related","#no_related_posts"];e(this).is(":checked")?(w(t),c.is(":checked")||b(["#no_related_posts"],0)):b(t)}),u.trigger("myload"),c.on("myload change",function(o){var t=["#no_related_posts"];(e(this).is(":checked")?w:b)(t)}),c.trigger("myload"),h.on("myload change",function(o){(e(this).is(":checked")?k:j)(e(this))}),h.trigger("myload"),e("#edit-guests-post-types").on("click",function(o){O(o,"more","post_types")}),p.on("myload change",function(o){var t=["#guest_archive_include_pages","#guest_archive_include_cpts","#guest_archive_permalink","#guest_archive_base","#guest_archive_tmpl","#guest_archive_title_prefix","#guest_archive_title_suffix"];(e(this).is(":checked")?w:b)(t)}),p.trigger("myload"),g.on("myload change",function(o){var t=["#box_layout_multiauthor","#seo-tags_ad","#multi_author_meta"];e(this).is(":checked")?(k(e(this)),w(t)):(j(e(this)),b(t))}),g.trigger("myload"),e("#edit-multi-post-types").on("click",function(o){O(o,"more","post_types")}),d.on("myload change",function(o){var t=["#user_archive_include_pages","#user_archive_include_cpts","#user_archive_tmpl","#user_archive_base","#user_archive_slug","#user_archive_title_prefix","#user_archive_title_suffix"],i=["#user_archive_redirect","#user_archive_status"];e(this).is(":checked")?(w(t),b(i)):(b(t),w(i))}),d.trigger("myload"),v.on("myload change",function(){let o=e(this).val();if(""===o)e("#guests-post-types").html('nowhere. Fix this clicking on the "Edit" button.'),e("#multi-post-types").html('nowhere. Fix this clicking on the "Edit" button.');else{let i=[];e.each(o.split(","),function(o,t){i.push(v.parent().find('div.menu .item[data-value="'+t+'"]').text().trim())}),e("#guests-post-types").html(" on "+i.join(", ").replace(/,(?!.*,)/gim," and")),e("#multi-post-types").html(" on "+i.join(", ").replace(/,(?!.*,)/gim," and"))}}),v.trigger("myload"),f.on("myload change",function(o){var t=["#byline_multiauthor_separator","#byline_multiauthor_last_separator","#byline_multiauthor_link"];("main"===this.value||"1"===this.value?b:w)(t)}),f.trigger("myload"),y.on("myload change",function(o){var t=["#byline_multiauthor_link"];g.is(":checked")&&"main"===f.value&&"1"===f.value||(t=t.filter(function(o){return"#byline_multiauthor_link"!==o})),e(this).is(":checked")?t&&t.length&&w(t):t&&t.length&&b(t)}),y.trigger("myload"),e("#authors_menu").on("change",function(o){e(this).is(":checked")||e("#molongui_menu").is(":checked")||molongui_swal({icon:"info",title:molongui_authorship_options_params[400],text:molongui_authorship_options_params[401],closeOnEsc:!0,dangerMode:!0}).then(o=>{e(this).prop("checked",!0)})}),e("#molongui_menu").on("change",function(o){e(this).is(":checked")||e("#authors_menu").is(":checked")||molongui_swal({icon:"info",title:molongui_authorship_options_params[400],text:molongui_authorship_options_params[401],closeOnEsc:!0,dangerMode:!0}).then(o=>{e(this).prop("checked",!0)})}),x.on("myload change",function(o){var t=["#interface_ad","#guests_menu_level"];(e(this).is(":checked")?w:b)(t)}),x.trigger("myload"),e("[for^=shortcode_]").on("click",function(o){o.preventDefault(),window.open(e(this).attr("data-link"),"_blank")}),e("#update_counters").on("click",function(o){var a=e(this),s=e(this).html();e(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[301],text:molongui_authorship_options_params[302],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[303],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[304],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?e.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_update_counters",nonce:molongui_authorship_options_params[300]},success:function(o){o?"cron_disabled"===o?molongui_swal({icon:"error",title:molongui_authorship_options_params[305],text:molongui_authorship_options_params[306]}).then(o=>{a.html(s)}):"false"===o?molongui_swal({icon:"error",title:molongui_authorship_options_params[305],text:molongui_authorship_options_params[307]}).then(o=>{a.html(s)}):molongui_swal({icon:"success",title:molongui_authorship_options_params[308],text:molongui_authorship_options_params[309]}).then(o=>{a.html(s)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[307],text:molongui_authorship_options_params[310]}).then(o=>{a.html(s)})},error:function(o,t,i){molongui_swal({icon:"error",title:molongui_authorship_options_params[307],text:molongui_authorship_options_params[310]}).then(o=>{a.html(s)})}}):a.html(s)}),o.preventDefault()}),e("#clear-cache").on("click",function(o){var a=e(this),s=e(this).html();e(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[201],text:molongui_authorship_options_params[202],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[203],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[204],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?e.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_clear_cache_action",nonce:molongui_authorship_options_params[200]},success:function(o){o?molongui_swal({icon:"success",title:molongui_authorship_options_params[205],text:molongui_authorship_options_params[206]}).then(o=>{a.html(s)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[207],text:molongui_authorship_options_params[208]}).then(o=>{a.html(s)})},error:function(o,t,i){molongui_swal({icon:"error",title:molongui_authorship_options_params[207],text:molongui_authorship_options_params[209]}).then(o=>{a.html(s)})}}):a.html(s)}),o.preventDefault()})}),jQuery(document).ready(function(i){"use strict";function e(o,t){var i,a=new FileReader;a.onload=function(o){i=a.result,t(i)},a.readAsText(o)}i("#export_guests").on("click",function(o){o.preventDefault();var a=i(this),s=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),jQuery.post(ajaxurl,{action:"authorship_export_guests"},function(o){var t=new Blob([o],{type:"application/json"}),o=URL.createObjectURL(t),t=(new Date).toISOString().slice(0,10);let i=document.createElement("a");i.download="molongui-authorship-guests."+t+".json",i.href=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),a.html(s)})}),i("#import_guests").on("change",function(o){var t=o.target.files[0];if(void 0===t&&!t)return molongui_swal({icon:"error",title:molongui_authorship_options_params[10001],text:molongui_authorship_options_params[1002]}),!1;i(this);var a=i(this).next("label"),s=a.html();if(a.html('<div class="m-typing-loader"></div>'),"text/json"!==t.type&&"application/json"!==t.type)return molongui_swal({icon:"error",title:molongui_authorship_options_params[1003],text:molongui_authorship_options_params[1004]}).then(o=>{a.html(s)}),!1;molongui_swal({icon:"info",title:molongui_authorship_options_params[1005],text:molongui_authorship_options_params[1006],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[1007],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[1008],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?e(t,function(o){i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_import_guests",nonce:molongui_authorship_options_params[1e3],file:o},success:function(o){var t;"0"===o?molongui_swal({icon:"success",title:molongui_authorship_options_params[1009],text:molongui_authorship_options_params[1010]}).then(o=>{a.html(s)}):(t="",t="empty"===o?molongui_authorship_options_params[1012]:molongui_authorship_options_params[1013],molongui_swal({icon:"error",title:molongui_authorship_options_params[1011],text:t}).then(o=>{a.html(s)}))},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[1011],molongui_authorship_options_params[1014]).then(o=>{a.html(s)})}})}):a.html(s)}),o.preventDefault()}),i("#delete_guests").on("click",function(o){var a=i(this),s=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[2001],text:molongui_authorship_options_params[2002],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[2003],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[2004],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_remove_guests",nonce:molongui_authorship_options_params[2e3]},success:function(o){o?molongui_swal({icon:"success",title:molongui_authorship_options_params[2005],text:molongui_authorship_options_params[2006]}).then(o=>{a.html(s)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[2007],text:molongui_authorship_options_params[2008]}).then(o=>{a.html(s)})},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[2007],molongui_authorship_options_params[2009]).then(o=>{a.html(s)})}}):a.html(s)}),o.preventDefault()}),i("#export_authorship").on("click",function(o){o.preventDefault();var a=i(this),s=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),jQuery.post(ajaxurl,{action:"authorship_export_authorship"},function(o){var t=new Blob([o],{type:"application/json"}),o=URL.createObjectURL(t),t=(new Date).toISOString().slice(0,10);let i=document.createElement("a");i.download="molongui-authorship-authors."+t+".json",i.href=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),a.html(s)})}),i("#import_authorship").on("change",function(o){var t=o.target.files[0];if(void 0===t&&!t)return molongui_swal({icon:"error",title:molongui_authorship_options_params[3001],text:molongui_authorship_options_params[3002]}),!1;i(this);var a=i(this).next("label"),s=a.html();if(a.html('<div class="m-typing-loader"></div>'),"text/json"!==t.type&&"application/json"!==t.type)return molongui_swal({icon:"error",title:molongui_authorship_options_params[3003],text:molongui_authorship_options_params[3004]}).then(o=>{a.html(s)}),!1;molongui_swal({icon:"info",title:molongui_authorship_options_params[3005],text:molongui_authorship_options_params[3006],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[3007],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[3008],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?e(t,function(o){i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_import_authorship",nonce:molongui_authorship_options_params[3e3],file:o},success:function(o){var t;"0"===o?molongui_swal({icon:"success",title:molongui_authorship_options_params[3009],text:molongui_authorship_options_params[3010]}).then(o=>{a.html(s)}):(t="",t="empty"===o?molongui_authorship_options_params[3012]:molongui_authorship_options_params[3013],molongui_swal({icon:"error",title:molongui_authorship_options_params[3011],text:t}).then(o=>{a.html(s)}))},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[3011],molongui_authorship_options_params[3014]).then(o=>{a.html(s)})}})}):a.html(s)}),o.preventDefault()}),i("#delete_authorship").on("click",function(o){var a=i(this),s=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[4001],text:molongui_authorship_options_params[4002],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[4003],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[4004],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_remove_authorship",nonce:molongui_authorship_options_params[4e3]},success:function(o){o?molongui_swal({icon:"success",title:molongui_authorship_options_params[4005],text:molongui_authorship_options_params[4006]}).then(o=>{a.html(s)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[4007],text:molongui_authorship_options_params[4008]}).then(o=>{a.html(s)})},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[4007],molongui_authorship_options_params[4009]).then(o=>{a.html(s)})}}):a.html(s)}),o.preventDefault()})}),jQuery(document).ready(function(n){function l(o){return o.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}n("#molongui-options").on("click","#activate_license_button",function(){event.preventDefault();var a=n(this),t=n("#key"),i=n("#product_id"),o=t.val().trim(),s=i.val().trim();if(!o||!s)return molongui_swal({icon:"error",title:molongui_common_options_params[201],text:molongui_common_options_params[202]}),!1;if(Math.floor(s)!=s||!n.isNumeric(s))return molongui_swal({icon:"error",title:molongui_common_options_params[216],text:molongui_common_options_params[217]}),!1;var e=n(this).html();n(this).html('<div class="m-typing-loader"></div>'),n.ajax({url:ajaxurl,type:"POST",data:{action:molongui_common_options_params.plugin_id+"_activate_license_key",nonce:molongui_common_options_params[200],key:o,pid:s},success:function(o){o=n.parseJSON(o);console.log("%cMOLONGUI LICENSING SERVER RESPONSE\n%c"+l(o[0])+"\n%c"+l(o[1]),"font-weight: bold; text-decoration: underline;","text-transform: capitalize; color: red;",""),"success"===o[0]?molongui_swal({icon:"success",title:molongui_common_options_params[203],text:o[1]}).then(o=>{t.closest(".m-option").removeClass("m-license-off").addClass("m-license-on"),i.closest(".m-option").removeClass("m-license-off").addClass("m-license-on"),a.attr("id","deactivate_license_button").removeClass("is-primary").addClass("m-deactivate").html(molongui_common_options_params[215]),a.off("click"),n("#molongui-options").attr("style","opacity: 0.35"),n("#m-options-saving").fadeIn(),n(window).off("beforeunload"),location.reload(!0),window.location.assign(molongui_common_options_params.options_page)}):molongui_swal({icon:"error",title:molongui_common_options_params[204],content:{element:"span",attributes:{innerHTML:l(o[1])}}}).then(o=>{a.html(e),t.closest(".m-option").addClass("m-license-off"),i.closest(".m-option").addClass("m-license-off")}),n(this).html(n(this).prop("title"))},error:function(o,t,i){console.error(JSON.stringify(o)),console.error("AJAX Error: textStatus  = "+t),console.error("AJAX Error: errorThrown = "+i),molongui_swal(molongui_common_options_params[205],molongui_common_options_params[206],"error").then(o=>{a.html(e)})}})}),n("#molongui-options").on("click","#deactivate_license_button",function(){event.preventDefault();var a=n(this),t=n("#activation_key"),i=n("#activation_email"),s=n(this).html();n(this).html('<div class="m-typing-loader blue"></div>'),molongui_swal({icon:"info",title:molongui_common_options_params[207],text:molongui_common_options_params[208],closeOnEsc:!0,buttons:{cancel:{text:molongui_common_options_params[209],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_common_options_params[210],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o&&n.ajax({url:ajaxurl,type:"POST",data:{action:molongui_common_options_params.plugin_id+"_deactivate_license_key",nonce:molongui_common_options_params[200],form:n("form#molongui-settings-form").serializeArray()},success:function(o){console.log("MOLONGUI LICENSING SERVER RESPONSE: "+o.replace(/<\/?[^>]+>/gi,""));o=n.parseJSON(o);"success"===o[0]?molongui_swal({icon:"success",title:molongui_common_options_params[211],text:o[1]}).then(o=>{t.val("").closest(".m-option").removeClass("m-license-on"),i.val("").closest(".m-option").removeClass("m-license-on"),a.attr("id","activate_license_button").removeClass("m-deactivate").addClass("is-primary").html(molongui_common_options_params[214]),a.off("click"),n("#molongui-options").attr("style","opacity: 0.35"),n("#m-options-saving").fadeIn(),n(window).off("beforeunload"),location.reload(!0),window.location.assign(molongui_common_options_params.options_page)}):molongui_swal({icon:"error",title:molongui_common_options_params[212],text:o[1]}).then(o=>{a.html(s)})},error:function(o,t,i){console.error(JSON.stringify(o)),console.error("AJAX Error: textStatus  = "+t),console.error("AJAX Error: errorThrown = "+i),molongui_swal(molongui_common_options_params[205],molongui_common_options_params[213],"error").then(o=>{a.html(s)})}})}),a.html(s)})});