jQuery(document).ready(function(s){function l(o){return o.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}s("#molongui-options").on("click","#activate_license_button",function(){event.preventDefault();var e=s(this),t=s("#key"),i=s("#product_id"),o=t.val().trim(),a=i.val().trim();if(!o||!a)return molongui_swal({icon:"error",title:molongui_authorship_options_params[20001],text:molongui_authorship_options_params[20002]}),!1;if(Math.floor(a)!=a||!s.isNumeric(a))return molongui_swal({icon:"error",title:molongui_authorship_options_params[20016],text:molongui_authorship_options_params[20017]}),!1;var n=s(this).html();s(this).html('<div class="m-typing-loader"></div>'),s.ajax({url:ajaxurl,type:"POST",data:{action:molongui_authorship_options_params.plugin_id+"_activate_license_key",nonce:molongui_authorship_options_params[2e4],key:o,pid:a},success:function(o){o=s.parseJSON(o);console.log("%cMOLONGUI LICENSING SERVER RESPONSE\n%c"+l(o[0])+"\n%c"+l(o[1]),"font-weight: bold; text-decoration: underline;","text-transform: capitalize; color: red;",""),"success"===o[0]?molongui_swal({icon:"success",title:molongui_authorship_options_params[20003],text:o[1]}).then(o=>{t.closest(".m-option").removeClass("m-license-off").addClass("m-license-on"),i.closest(".m-option").removeClass("m-license-off").addClass("m-license-on"),e.attr("id","deactivate_license_button").removeClass("is-primary").addClass("m-deactivate").html(molongui_authorship_options_params[20015]),e.off("click"),s("#molongui-options").attr("style","opacity: 0.35"),s("#m-options-saving").fadeIn(),s(window).off("beforeunload"),location.reload(!0),window.location.assign(molongui_authorship_options_params.options_page)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[20004],content:{element:"span",attributes:{innerHTML:l(o[1])}}}).then(o=>{e.html(n),t.closest(".m-option").addClass("m-license-off"),i.closest(".m-option").addClass("m-license-off")}),s(this).html(s(this).prop("title"))},error:function(o,t,i){console.error(JSON.stringify(o)),console.error("AJAX Error: textStatus  = "+t),console.error("AJAX Error: errorThrown = "+i),molongui_swal(molongui_authorship_options_params[20005],molongui_authorship_options_params[20006],"error").then(o=>{e.html(n)})}})}),s("#molongui-options").on("click","#deactivate_license_button",function(){event.preventDefault();var e=s(this),t=s("#activation_key"),i=s("#activation_email"),a=s(this).html();s(this).html('<div class="m-typing-loader blue"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[20007],text:molongui_authorship_options_params[20008],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[20009],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[20010],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o&&s.ajax({url:ajaxurl,type:"POST",data:{action:molongui_authorship_options_params.plugin_id+"_deactivate_license_key",nonce:molongui_authorship_options_params[2e4],form:s("form#molongui-settings-form").serializeArray()},success:function(o){console.log("MOLONGUI LICENSING SERVER RESPONSE: "+o.replace(/<\/?[^>]+>/gi,""));o=s.parseJSON(o);"success"===o[0]?molongui_swal({icon:"success",title:molongui_authorship_options_params[20011],text:o[1]}).then(o=>{t.val("").closest(".m-option").removeClass("m-license-on"),i.val("").closest(".m-option").removeClass("m-license-on"),e.attr("id","activate_license_button").removeClass("m-deactivate").addClass("is-primary").html(molongui_authorship_options_params[20014]),e.off("click"),s("#molongui-options").attr("style","opacity: 0.35"),s("#m-options-saving").fadeIn(),s(window).off("beforeunload"),location.reload(!0),window.location.assign(molongui_authorship_options_params.options_page)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[20012],text:o[1]}).then(o=>{e.html(a)})},error:function(o,t,i){console.error(JSON.stringify(o)),console.error("AJAX Error: textStatus  = "+t),console.error("AJAX Error: errorThrown = "+i),molongui_swal(molongui_authorship_options_params[20005],molongui_authorship_options_params[20013],"error").then(o=>{e.html(a)})}})}),e.html(a)})}),function(l){"use strict";function t(t=!1){t||(l("#molongui-options").attr("style","opacity: 0.35"),l("#m-options-saving").fadeIn());var i,o=(i={},l(".m-option input, .m-option textarea, .m-option select").each(function(){var o;l(this).is("input[type=text]")||l(this).is("input[type=number]")||l(this).is("textarea")||l(this).is("input[type=hidden]")||l(this).is("select")?(o=l(this).val(),l.isArray(o)&&(o=o.toString()),i[l(this).attr("id")]=o):l(this).is("input[type=checkbox]:checked")?i[l(this).attr("id")]=1:l(this).is("input[type=checkbox]")?i[l(this).attr("id")]=null:l(this).is("input[type=radio]:checked")&&(i[l(this).attr("data-id")]=l(this).val())}),i);jQuery.post(ajaxurl,{action:molongui_authorship_options_params.plugin_id+"_save_options",data:o,nonce:l("#mfw_save_options_nonce").val()},function(o){l("input, textarea").each(function(){l(this).attr("disabled","disabled")}),t||("false"!==o?(l("#m-options-saving").fadeOut(),l("#m-options-saved").fadeIn()):(l("#m-options-saving").fadeOut(),l("#m-options-error").fadeIn()),setTimeout(function(){l(window).off("beforeunload"),"false"!==o?(l("#m-options-saved").fadeOut(),l(".m-card-header__actions .m-button-save").blur().prop("disabled",!0).removeClass("is-primary")):l("#m-options-error").fadeOut(),l("input, textarea").each(function(){l(this).removeAttr("disabled")}),l("#molongui-options").removeAttr("style"),l(document).trigger("m_settings_saved")},1500))})}l(function(){var e;l("#export_options").on("click",function(o){o.preventDefault();var e=l(this),a=l(this).html();l(this).html('<div class="m-typing-loader blue"></div>'),jQuery.post(ajaxurl,{action:molongui_authorship_options_params.plugin_id+"_export_options",plugin:molongui_authorship_options_params.plugin_id,nonce:l("#mfw_export_options_nonce").val()},function(o){var t=new Blob([o],{type:"application/json"}),o=URL.createObjectURL(t),t=(new Date).toISOString().slice(0,10);let i=document.createElement("a");i.download="molongui-"+molongui_authorship_options_params.plugin_id+"-settings."+t+".json",i.href=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),e.html(a)})}),l("#import_options").on("change",function(o){var a=o.target.files[0];if(void 0===a&&!a)return molongui_swal({icon:"error",title:molongui_authorship_options_params[10012],text:molongui_authorship_options_params[10013]}),!1;l(this);var n=l(this).next("label"),s=n.html();if(n.html('<div class="m-typing-loader blue"></div>'),"text/json"!==a.type&&"application/json"!==a.type)return molongui_swal({icon:"error",title:molongui_authorship_options_params[10014],text:molongui_authorship_options_params[10015]}).then(o=>{n.html(s)}),!1;molongui_swal({icon:"info",title:molongui_authorship_options_params[10016],text:molongui_authorship_options_params[10017],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[10018],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[10019],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{var t,i,e;o?(o=a,t=function(o){l.ajax({url:ajaxurl,type:"POST",data:{action:molongui_authorship_options_params.plugin_id+"_import_options",nonce:molongui_authorship_options_params[10011],file:o,id:molongui_authorship_options_params.plugin_id,version:molongui_authorship_options_params.plugin_version},success:function(o){if(o){var t="";switch(o){case"file":t=molongui_authorship_options_params[10023];break;case"plugin":t=molongui_authorship_options_params[10024];break;case"update":t=molongui_authorship_options_params[10025]}molongui_swal({icon:"error",title:molongui_authorship_options_params[10022],text:t}).then(o=>{n.html(s)})}else molongui_swal({icon:"success",title:molongui_authorship_options_params[10020],text:molongui_authorship_options_params[10021]}).then(o=>{l(window).off("beforeunload"),location.reload()})},error:function(o,t,i){molongui_swal({icon:"error",title:molongui_authorship_options_params[10022],text:molongui_authorship_options_params[10030]}).then(o=>{n.html(s)})}})},(e=new FileReader).onload=function(o){i=e.result,t(i)},e.readAsText(o)):n.html(s)}),o.preventDefault()}),l("#reset_options").on("click",function(o){if("0"===molongui_authorship_options_params.is_pro)return molongui_swal({icon:"error",title:molongui_authorship_options_params[1],text:molongui_authorship_options_params[2]}),!1;var e=l(this),a=l(this).html();l(this).html('<div class="m-typing-loader blue"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[10016],text:molongui_authorship_options_params[10026],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[10018],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[10019],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?l.ajax({url:ajaxurl,type:"POST",data:{action:molongui_authorship_options_params.plugin_id+"_reset_options",nonce:molongui_authorship_options_params[10027],id:molongui_authorship_options_params.plugin_id},success:function(o){o?molongui_swal({icon:"success",title:molongui_authorship_options_params[10020],text:molongui_authorship_options_params[10028]}).then(o=>{l(window).off("beforeunload"),location.reload()}):molongui_swal({icon:"error",title:molongui_authorship_options_params[10022],text:molongui_authorship_options_params[10029]}).then(o=>{e.html(a)})},error:function(o,t,i){molongui_swal({icon:"error",title:molongui_authorship_options_params[10022],text:molongui_authorship_options_params[10030]}).then(o=>{e.html(a)})}}):e.html(a)}),o.preventDefault()}),l(".m-section-nav__mobile-header").on("click",function(){l(this).parent().toggleClass("is-open")}),l(".m-section-nav__panel").on("click",function(){l(this).parent().removeClass("is-open")}),l(".m-section-nav-tab__link").on("click",function(o){o.preventDefault();let t=l(this).attr("href");l(".m-section-nav-tab").removeClass("is-selected"),l(this).parent().addClass("is-selected"),l(".m-section-nav__mobile-header").html(l(this).find(".m-section-nav-tab__text").text()),l(".m-tab").removeClass("current"),l(t).addClass("current"),l(document).trigger("m_settings_tab_changed",[t.replace(/^#/,"")])}),l(".ui.dropdown").dropdown().dropdown({selector:{input:'> input[type="hidden"], > input[type="text"], > select'},message:{noResults:"<strong>No more options available.</strong>"}}),l(".m-support-info").popup({inline:!0,hoverable:!0,position:"left center",delay:{show:300,hide:600}}),e=[],["custom_css","custom_php"].forEach(function(o){wp.codeEditor.initialize(document.getElementById(o),molongui_authorship_options_params.cm_settings[o]);var t=jQuery("#"+o),i=t.next(".CodeMirror").get(0).CodeMirror;l(document).on("m_settings_tab_changed",function(o,t){"advanced"===t&&i.refresh()}),i.on("change",function(){t.val(i.getValue())}),e.push({textareaId:o,editorInstance:i}),"custom_php"===o&&""===i.getValue()&&i.setValue("<?php\r\n\r\n// Add your code snippet here...")})}),l(".m-option.has-notice").on("change",function(o){l(this).closest(".m-option").find(".m-option-notice").show()}),l(".m-button-global.m-button-advanced").on("click",function(o){o.preventDefault(),l('[data-m-option="advanced"]').fadeToggle()}),l(".m-button-advanced").on("click",function(o){o.preventDefault(),this.blur();let t=l(this).data("m-state");t="hidding"===t?(l(this).html("Hide Advanced"),l(this).data("m-state","showing"),0):(l(this).html("Show Advanced"),l(this).data("m-state","hidding"),1),l('[data-m-option="advanced"][data-m-group="'+l(this).data("m-target")+'"]').attr("data-m-hide",t),l('[data-m-option="advanced"][data-m-group="'+l(this).data("m-target")+'"][data-m-deps="1"]').fadeToggle().toggleClass("m-highlight")}),l(".m-unveil").on("click",function(o){var t=l(this);t.nextAll().toggleClass("hidden").promise().done(function(){(t.next().is(":visible")?t.find("span").html(t.attr("data-hide")):t.find("span").html(t.attr("data-show"))).toggleClass("close")})}),l(".m-option input").on("change input",function(){l(this).closest(".m-card").prevAll(".m-card-header:first").find(".m-card-header__actions .m-button-save").prop("disabled",!1).addClass("is-primary")}),l(".m-button-save").on("click",function(o){o.preventDefault(),t(!1)}),l(document).on("keydown",function(o){return"s"!==o.key&&"S"!==o.key||!o.ctrlKey&&!o.metaKey||(o.preventDefault(),t(!1),!1)}),l("input, textarea, select").on("change",function(){l(window).on("beforeunload",function(o){return molongui_authorship_options_params[10003]})})}(jQuery),jQuery(document).ready(function(n){molongui_authorship_options_params.is_premium;let o=n("#author_box"),t=n("#box_post_types_auto"),i=n('input[name*="enable_author_box_styles"]'),e=n("#show_headline"),a=n("#show_meta"),s=n("#show_icons"),l=n("#show_avatar"),r=n("#avatar_src"),p=n("#avatar_local_fallback"),u=n("#avatar_default_gravatar"),_=n("#show_related"),m=n("#show_empty_related"),c=n("#guest_authors");n("#guests-post-types-notice");let h=n("#guest_pages"),d=n("#enable_multi_authors"),g=n("#user_archive_enabled"),v=n("#post_types"),f=n("#byline_multiauthor_display"),b=n("#byline_name_link"),y=n("#guests_menu");function x(t,i,e){void 0===i&&(i=200),void 0===e&&(e=".m-card"),n.each(t,function(o){$e=(t instanceof jQuery?t:n(t[o])).closest(e),$e.is("[data-m-hide]")&&"0"!==$e.attr("data-m-hide")||$e.show(i),$e.attr("data-m-deps","1")})}function w(t,i,e){void 0===i&&(i=200),void 0===e&&(e=".m-card"),n.each(t,function(o){n(t[o]).closest(e).attr("data-m-deps","0").hide(i)})}function k(o,t){void 0===t&&(t=".m-card"),o.closest(t).nextAll().removeClass("disabled")}function j(o,t){void 0===t&&(t=".m-card"),o.closest(t).nextAll().addClass("disabled")}function O(o,t,i){o.preventDefault(),n("#molongui-options").attr("style","opacity: 0"),n(".m-tab").removeClass("current"),n(".m-section-nav-tab").removeClass("is-selected"),n("#"+t).addClass("current"),n('.m-section-nav-tab__link[data-id="'+t+'"]').parent().addClass("is-selected"),n("html, body").animate({scrollTop:0},0),n("#molongui-options").attr("style","opacity: 1");let e=n("#"+i).closest(".m-card");e.addClass("focus"),setTimeout(function(){e.removeClass("focus")},2e3)}n("#add_html_meta");o.on("myload change",function(o){(n(this).is(":checked")?k:j)(n(this))}),o.trigger("myload"),t.on("myload change",function(){var o=["#hide_on_categories_ad","#hide_on_categories"];(n(this).val().includes("post")?x:w)(o)}),t.trigger("myload"),i.on("change",function(o){n(this).is(":checked")?n("#open_customizer").show(200):molongui_swal({icon:"info",title:molongui_authorship_options_params[100],text:molongui_authorship_options_params[101],closeOnEsc:!0,buttons:!0,dangerMode:!0}).then(o=>{o?(molongui_swal({icon:"success",title:molongui_authorship_options_params[102],text:molongui_authorship_options_params[103],closeOnEsc:!0,buttons:!0,dangerMode:!0}),n("#open_customizer").hide()):n(this).prop("checked",!0)})}),e.on("myload change",function(){var o=["#headline","#headline_tag","#box_headline_tag"];(n(this).is(":checked")?x:w)(o)}),e.trigger("myload"),a.on("myload change",function(){var o=["#at","#web","#more_posts","#bio"];(n(this).is(":checked")?x:w)(o)}),a.trigger("myload"),l.on("myload change",function(o){var t=["#avatar_link_to_archive","#avatar_src","#avatar_local_fallback","#avatar_default_gravatar","#avatar_width","#avatar_height"];n(this).is(":checked")?(x(t),"local"!==r.val()&&p.closest(".m-card").attr("data-m-deps","0").hide(),"gravatar"!==r.val()&&"gravatar"!==p.val()&&u.closest(".m-card").attr("data-m-deps","0").hide()):w(t)}),l.trigger("myload"),r.on("myload change",function(o){"local"===n(this).val()?x([p]):w([p],0),"gravatar"!==n(this).val()&&"gravatar"!==p.val()?w([u],0):x([u]),"acronym"===n(this).val()&&w([u],0)}),r.trigger("myload"),p.on("myload change",function(o){"gravatar"!==p.val()&&"gravatar"!==n(this).val()?w([u],0):x([u])}),p.trigger("myload"),s.on("myload change",function(){var o=["#social_link_target"];(n(this).is(":checked")?x:w)(o)}),s.trigger("myload"),_.on("myload change",function(o){var t=["#related_posts","#related_items","#related_orderby","#related_order","#related_post_types","#show_empty_related","#no_related_posts"];n(this).is(":checked")?(x(t),m.is(":checked")||w(["#no_related_posts"],0)):w(t)}),_.trigger("myload"),m.on("myload change",function(o){var t=["#no_related_posts"];(n(this).is(":checked")?x:w)(t)}),m.trigger("myload"),c.on("myload change",function(o){(n(this).is(":checked")?k:j)(n(this))}),c.trigger("myload"),n("#edit-guests-post-types").on("click",function(o){O(o,"more","post_types")}),h.on("myload change",function(o){var t=["#guest_archive_include_pages","#guest_archive_include_cpts","#guest_archive_permalink","#guest_archive_base","#guest_archive_tmpl","#guest_archive_title_prefix","#guest_archive_title_suffix"];(n(this).is(":checked")?x:w)(t)}),h.trigger("myload"),d.on("myload change",function(o){var t=["#box_layout_multiauthor","#seo-tags_ad","#multi_author_meta"];n(this).is(":checked")?(k(n(this)),x(t)):(j(n(this)),w(t))}),d.trigger("myload"),n("#edit-multi-post-types").on("click",function(o){O(o,"more","post_types")}),g.on("myload change",function(o){var t=["#user_archive_include_pages","#user_archive_include_cpts","#user_archive_tmpl","#user_archive_base","#user_archive_slug","#user_archive_title_prefix","#user_archive_title_suffix"],i=["#user_archive_redirect","#user_archive_status"];n(this).is(":checked")?(x(t),w(i)):(w(t),x(i))}),g.trigger("myload"),v.on("myload change",function(){let o=n(this).val();if(""===o)n("#guests-post-types").html('nowhere. Fix this clicking on the "Edit" button.'),n("#multi-post-types").html('nowhere. Fix this clicking on the "Edit" button.');else{let i=[];n.each(o.split(","),function(o,t){i.push(v.parent().find('div.menu .item[data-value="'+t+'"]').text().trim())}),n("#guests-post-types").html(" on "+i.join(", ").replace(/,(?!.*,)/gim," and")),n("#multi-post-types").html(" on "+i.join(", ").replace(/,(?!.*,)/gim," and"))}}),v.trigger("myload"),f.on("myload change",function(o){var t=["#byline_multiauthor_separator","#byline_multiauthor_last_separator","#byline_multiauthor_link"];("main"===this.value||"1"===this.value?w:x)(t)}),f.trigger("myload"),b.on("myload change",function(o){var t=["#byline_multiauthor_link"];d.is(":checked")&&"main"===f.value&&"1"===f.value||(t=t.filter(function(o){return"#byline_multiauthor_link"!==o})),n(this).is(":checked")?t&&t.length&&x(t):t&&t.length&&w(t)}),b.trigger("myload"),n("#authors_menu").on("change",function(o){n(this).is(":checked")||n("#molongui_menu").is(":checked")||molongui_swal({icon:"info",title:molongui_authorship_options_params[400],text:molongui_authorship_options_params[401],closeOnEsc:!0,dangerMode:!0}).then(o=>{n(this).prop("checked",!0)})}),n("#molongui_menu").on("change",function(o){n(this).is(":checked")||n("#authors_menu").is(":checked")||molongui_swal({icon:"info",title:molongui_authorship_options_params[400],text:molongui_authorship_options_params[401],closeOnEsc:!0,dangerMode:!0}).then(o=>{n(this).prop("checked",!0)})}),y.on("myload change",function(o){var t=["#interface_ad","#guests_menu_level"];(n(this).is(":checked")?x:w)(t)}),y.trigger("myload"),n("[for^=shortcode_]").on("click",function(o){o.preventDefault(),window.open(n(this).attr("data-link"),"_blank")}),n("#update_counters").on("click",function(o){var e=n(this),a=n(this).html();n(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[301],text:molongui_authorship_options_params[302],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[303],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[304],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?n.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_update_counters",nonce:molongui_authorship_options_params[300]},success:function(o){o?"cron_disabled"===o?molongui_swal({icon:"error",title:molongui_authorship_options_params[305],text:molongui_authorship_options_params[306]}).then(o=>{e.html(a)}):"false"===o?molongui_swal({icon:"error",title:molongui_authorship_options_params[305],text:molongui_authorship_options_params[307]}).then(o=>{e.html(a)}):molongui_swal({icon:"success",title:molongui_authorship_options_params[308],text:molongui_authorship_options_params[309]}).then(o=>{e.html(a)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[307],text:molongui_authorship_options_params[310]}).then(o=>{e.html(a)})},error:function(o,t,i){molongui_swal({icon:"error",title:molongui_authorship_options_params[307],text:molongui_authorship_options_params[310]}).then(o=>{e.html(a)})}}):e.html(a)}),o.preventDefault()}),n("#clear-cache").on("click",function(o){var e=n(this),a=n(this).html();n(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[201],text:molongui_authorship_options_params[202],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[203],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[204],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?n.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_clear_cache_action",nonce:molongui_authorship_options_params[200]},success:function(o){o?molongui_swal({icon:"success",title:molongui_authorship_options_params[205],text:molongui_authorship_options_params[206]}).then(o=>{e.html(a)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[207],text:molongui_authorship_options_params[208]}).then(o=>{e.html(a)})},error:function(o,t,i){molongui_swal({icon:"error",title:molongui_authorship_options_params[207],text:molongui_authorship_options_params[209]}).then(o=>{e.html(a)})}}):e.html(a)}),o.preventDefault()})}),jQuery(document).ready(function(i){"use strict";function n(o,t){var i,e=new FileReader;e.onload=function(o){i=e.result,t(i)},e.readAsText(o)}i("#export_guests").on("click",function(o){o.preventDefault();var e=i(this),a=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),jQuery.post(ajaxurl,{action:"authorship_export_guests"},function(o){var t=new Blob([o],{type:"application/json"}),o=URL.createObjectURL(t),t=(new Date).toISOString().slice(0,10);let i=document.createElement("a");i.download="molongui-authorship-guests."+t+".json",i.href=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),e.html(a)})}),i("#import_guests").on("change",function(o){var t=o.target.files[0];if(void 0===t&&!t)return molongui_swal({icon:"error",title:molongui_authorship_options_params[10001],text:molongui_authorship_options_params[1002]}),!1;i(this);var e=i(this).next("label"),a=e.html();if(e.html('<div class="m-typing-loader"></div>'),"text/json"!==t.type&&"application/json"!==t.type)return molongui_swal({icon:"error",title:molongui_authorship_options_params[1003],text:molongui_authorship_options_params[1004]}).then(o=>{e.html(a)}),!1;molongui_swal({icon:"info",title:molongui_authorship_options_params[1005],text:molongui_authorship_options_params[1006],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[1007],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[1008],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?n(t,function(o){i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_import_guests",nonce:molongui_authorship_options_params[1e3],file:o},success:function(o){var t;"0"===o?molongui_swal({icon:"success",title:molongui_authorship_options_params[1009],text:molongui_authorship_options_params[1010]}).then(o=>{e.html(a)}):(t="",t="empty"===o?molongui_authorship_options_params[1012]:molongui_authorship_options_params[1013],molongui_swal({icon:"error",title:molongui_authorship_options_params[1011],text:t}).then(o=>{e.html(a)}))},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[1011],molongui_authorship_options_params[1014]).then(o=>{e.html(a)})}})}):e.html(a)}),o.preventDefault()}),i("#delete_guests").on("click",function(o){var e=i(this),a=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[2001],text:molongui_authorship_options_params[2002],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[2003],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[2004],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_remove_guests",nonce:molongui_authorship_options_params[2e3]},success:function(o){o?molongui_swal({icon:"success",title:molongui_authorship_options_params[2005],text:molongui_authorship_options_params[2006]}).then(o=>{e.html(a)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[2007],text:molongui_authorship_options_params[2008]}).then(o=>{e.html(a)})},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[2007],molongui_authorship_options_params[2009]).then(o=>{e.html(a)})}}):e.html(a)}),o.preventDefault()}),i("#export_authorship").on("click",function(o){o.preventDefault();var e=i(this),a=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),jQuery.post(ajaxurl,{action:"authorship_export_authorship"},function(o){var t=new Blob([o],{type:"application/json"}),o=URL.createObjectURL(t),t=(new Date).toISOString().slice(0,10);let i=document.createElement("a");i.download="molongui-authorship-authors."+t+".json",i.href=o,document.body.appendChild(i),i.click(),document.body.removeChild(i),e.html(a)})}),i("#import_authorship").on("change",function(o){var t=o.target.files[0];if(void 0===t&&!t)return molongui_swal({icon:"error",title:molongui_authorship_options_params[3001],text:molongui_authorship_options_params[3002]}),!1;i(this);var e=i(this).next("label"),a=e.html();if(e.html('<div class="m-typing-loader"></div>'),"text/json"!==t.type&&"application/json"!==t.type)return molongui_swal({icon:"error",title:molongui_authorship_options_params[3003],text:molongui_authorship_options_params[3004]}).then(o=>{e.html(a)}),!1;molongui_swal({icon:"info",title:molongui_authorship_options_params[3005],text:molongui_authorship_options_params[3006],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[3007],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[3008],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?n(t,function(o){i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_import_authorship",nonce:molongui_authorship_options_params[3e3],file:o},success:function(o){var t;"0"===o?molongui_swal({icon:"success",title:molongui_authorship_options_params[3009],text:molongui_authorship_options_params[3010]}).then(o=>{e.html(a)}):(t="",t="empty"===o?molongui_authorship_options_params[3012]:molongui_authorship_options_params[3013],molongui_swal({icon:"error",title:molongui_authorship_options_params[3011],text:t}).then(o=>{e.html(a)}))},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[3011],molongui_authorship_options_params[3014]).then(o=>{e.html(a)})}})}):e.html(a)}),o.preventDefault()}),i("#delete_authorship").on("click",function(o){var e=i(this),a=i(this).html();i(this).html('<div class="m-typing-loader"></div>'),molongui_swal({icon:"info",title:molongui_authorship_options_params[4001],text:molongui_authorship_options_params[4002],closeOnEsc:!0,buttons:{cancel:{text:molongui_authorship_options_params[4003],value:null,visible:!0,className:"",closeModal:!0},confirm:{text:molongui_authorship_options_params[4004],value:!0,visible:!0,className:"",closeModal:!1}}}).then(o=>{o?i.ajax({url:ajaxurl,type:"POST",data:{action:"authorship_remove_authorship",nonce:molongui_authorship_options_params[4e3]},success:function(o){o?molongui_swal({icon:"success",title:molongui_authorship_options_params[4005],text:molongui_authorship_options_params[4006]}).then(o=>{e.html(a)}):molongui_swal({icon:"error",title:molongui_authorship_options_params[4007],text:molongui_authorship_options_params[4008]}).then(o=>{e.html(a)})},error:function(o,t,i){molongui_swal("error",molongui_authorship_options_params[4007],molongui_authorship_options_params[4009]).then(o=>{e.html(a)})}}):e.html(a)}),o.preventDefault()})});